---
title: Number of PhDs
author: Harshvardhan
date: '2022-02-20'
slug: number-of-phds
categories:
  - R
  - statistics
  - economics
  - thoughts
tags: []
draft: true
---

Yesterday I was talking to one of my friends about his plans post PhD. "I want to go for pure sciences and abstract mathematics, but there are hardly any positions in academia on these topics.", he said. It got me into thinking how many PhD students graduate every year and if the demand (in academia or in industry) is less than that. But I didn't even know how many PhDs are awarded each year, let alone employed.

While searching for a dataset for my Text Mining class project, I discovered this dataset on number of PhDs by field. So, let's explore!

## Exploration

```{r}
library(tidyverse)

# Using my personal theme
theme_h = function(base_size = 14) {
  theme_bw(base_size = base_size) %+replace%
    theme(
      # Specify plot title
      plot.title = element_text(size = rel(1), face = "bold", margin = margin(0,0,5,0), hjust = 0),
      # Specifying grid and border
      panel.grid.minor = element_blank(),
      panel.border = element_blank(),
      # Specidy axis details
      axis.title = element_text(size = rel(0.85), face = "bold", family="serif"),
      axis.text = element_text(size = rel(0.70), family="serif"),
      axis.line = element_line(color = "black", arrow = arrow(length = unit(0.3, "lines"), type = "closed")),
      # Specify legend details
      legend.title = element_text(size = rel(0.85), face = "bold"),
      legend.text = element_text(size = rel(0.70), face = "bold", family="serif"),
      legend.key = element_rect(fill = "transparent", colour = NA),
      legend.key.size = unit(1.5, "lines"),
      legend.background = element_rect(fill = "transparent", colour = NA),
      # Remove default background
      strip.background = element_rect(fill = "#17252D", color = "#17252D"),
      strip.text = element_text(size = rel(0.85), face = "bold", color = "white", margin = margin(5,0,5,0))
    )
}

theme_set(theme_h())
```

```{r}
# Loading dataset from their repository
phds = readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-02-19/phd_by_field.csv")
phds
```

There are many records by fields --- in three levels of granularity. The column `year` tells about the year and `n_phds` is the number of graduates that year. Let's check the number of records we have for each year; it will also tell me range of data.

```{r}
phds %>% 
  count(year)
```

There are 337 fields and we have records for each of them between 2008 to 2017. Let's see how many people are from which field.

### Number of PhDs by their Broad Field

```{r}
phds %>% 
  group_by(broad_field) %>% 
  summarise(n_phds = sum(n_phds, na.rm = T)) %>% 
  arrange(desc(n_phds))
```

Here's what we observe.

**Life sciences** has most number of graduates. **Engineering** has least number of graduates --- even less than mysterious **Other**. I am interested in learning more about life sciences.

```{r}
phds %>% 
  filter(broad_field == "Life sciences") %>% 
  group_by(major_field) %>% 
  summarise(n_phds = sum(n_phds, na.rm = T)) %>% 
  arrange(desc(n_phds))
```

**Biological and biomedical sciences** has the most number of graduates. I thought chemistry would be part of engineering but I guess chemical engineering is different from engineering. Let me explore engineering too.

```{r}
phds %>% 
  filter(broad_field == "Engineering") %>% 
  group_by(major_field) %>% 
  summarise(n_phds = sum(n_phds, na.rm = T)) %>% 
  arrange(desc(n_phds))
```

Oh, so no information. I guess I'll have to group by field.

```{r}
phds %>% 
  filter(broad_field == "Engineering") %>% 
  group_by(field) %>% 
  summarise(n_phds = sum(n_phds, na.rm = T)) %>% 
  arrange(desc(n_phds))
```

Now it's getting familiar again. Computer science leads it all. Let's visualise the counts.

```{r}
phds %>% 
  filter(broad_field == "Engineering") %>% 
  group_by(field) %>% 
  summarise(n_phds = sum(n_phds, na.rm = T)) %>% 
  ggplot(aes(reorder(field, n_phds), n_phds)) +
  geom_col() +
  coord_flip() +
  labs(y = "Number of PhDs", x = "Field (Engineering only)")
```

The data gives me opportunity to see how it grew up with the rise in popoularity of computer science. I've heard numerous time that its popularity has increased over the years. Let's check it via spiral plot.

```{r}
# Install the package first
# install.packages("spiralize")

# Load the library
library(spiralize)
```
